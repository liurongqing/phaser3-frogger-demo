!function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var r={};i.r(r),i.d(r,"Main",function(){return a});const s=".",n="images";class a extends Phaser.Scene{constructor(){super("mainScene")}init(){this.playerSpeed=2,this.enemySpeed=2,this.enemyMaxY=280,this.enemyMinY=80,this.isPlayerAlive=!0}preload(){this.load.setBaseURL(s),this.load.setPath(n),this.load.image("background","background.png"),this.load.image("dragon","dragon.png"),this.load.image("player","player.png"),this.load.image("treasure","treasure.png")}create(){this.add.image(0,0,"background").setOrigin(0,0);const e=this.sys.game.config.width,t=this.sys.game.config.height;this.playerSprite=this.add.sprite(40,.5*t,"player").setScale(.5),this.treasureSprite=this.add.sprite(e-80,.5*t,"treasure").setScale(.6),this.enemiesSprite=this.add.group(void 0,{key:"dragon",repeat:5,setXY:{x:100,y:100,stepX:80,stepY:20}}),Phaser.Actions.ScaleXY(this.enemiesSprite.getChildren(),-.5,-.5),Phaser.Actions.Call(this.enemiesSprite.getChildren(),e=>{e.speed=2*Math.random()+1},this)}gameOver(){this.isPlayerAlive=!1,this.cameras.main.shake(500),this.time.delayedCall(250,()=>{this.cameras.main.fade(250)},[],this),this.time.delayedCall(500,()=>{this.scene.restart()},[],this)}update(){if(!this.isPlayerAlive)return;this.input.activePointer.isDown&&(this.playerSprite.x+=this.playerSpeed),Phaser.Geom.Intersects.RectangleToRectangle(this.playerSprite.getBounds(),this.treasureSprite.getBounds())&&this.gameOver();const e=this.enemiesSprite.getChildren(),t=e.length;for(let i=0;i<t;i++)if(e[i].y+=e[i].speed,(e[i].y>=this.enemyMaxY||e[i].y<=this.enemyMinY)&&(e[i].speed*=-1),Phaser.Geom.Intersects.RectangleToRectangle(this.playerSprite.getBounds(),e[i].getBounds())){this.gameOver();break}}}const o=[];for(let e in r)o.push(r[e]);const h={type:Phaser.AUTO,backgroundColor:0,scale:{parent:"app",autoCenter:Phaser.Scale.CENTER_BOTH,mode:Phaser.Scale.ENVELOP,width:640,height:360,min:{width:640,height:360},max:{width:640,height:360}},scene:o};window.game=new Phaser.Game(h)}]);